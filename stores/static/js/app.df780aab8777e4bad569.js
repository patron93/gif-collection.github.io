webpackJsonp([1],{"7Qq6":function(e,t){},"9S5g":function(e,t){},NHnr:function(e,t,s){"use strict";function o(e){s("7Qq6")}function i(e){s("i6Ws")}function r(e){s("Ry+1")}function a(e){s("d7HW")}function n(e){s("9S5g")}Object.defineProperty(t,"__esModule",{value:!0});var d=s("7+uW"),c={name:"app"},l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("router-view")],1)])},m=[],v={render:l,staticRenderFns:m},u=v,p=s("VU/8"),h=o,f=p(c,u,!1,h,null,null),g=f.exports,_=s("/ocq"),w=s("mvHQ"),C=s.n(w),S={name:"Store",props:["storeItem"],data:function(){return{edit:!1}},computed:{errorName:function(){return!this.storeItem.name},errorAddress:function(){return!this.storeItem.address},errorTime:function(){return!this.storeItem.time}},methods:{removeStore:function(){this.$emit("remove-store",this.storeItem.id),this.edit=!1},saveChanges:function(){var e=void 0;(e=!!(this.storeItem.name&&this.storeItem.address&&this.storeItem.time))&&(this.$emit("save-changes"),this.edit=!1)}}},N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"store"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"store-id"},[e._v("\n        "+e._s(e.storeItem.id)+"\n      ")]),e._v(" "),s("div",{staticClass:"store-edit"},[e.edit?s("i",{staticClass:"fa fa-check",on:{click:e.saveChanges}}):s("i",{staticClass:"fa fa-pencil",on:{click:function(t){e.edit=!0}}})]),e._v(" "),e.edit?e._e():s("div",{staticClass:"col-lg-4 col-md-3 store-name"},[e._v("\n        "+e._s(e.storeItem.name)+"\n      ")]),e._v(" "),e.edit?s("div",{staticClass:"col-lg-4 col-md-3 store-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.storeItem.name,expression:"storeItem.name"}],staticClass:"form-control",class:[e.errorName?"is-invalid":"is-valid"],attrs:{type:"text"},domProps:{value:e.storeItem.name},on:{input:function(t){t.target.composing||e.$set(e.storeItem,"name",t.target.value)}}})]):e._e(),e._v(" "),e.edit?e._e():s("div",{staticClass:"col-lg-5  col-md-3 store-address"},[s("i",{staticClass:"fa fa-map-marker",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.storeItem.address)+"\n      ")]),e._v(" "),e.edit?s("div",{staticClass:"col-lg-5  col-md-3 store-address"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.storeItem.address,expression:"storeItem.address"}],staticClass:"form-control",class:[e.errorAddress?"is-invalid":"is-valid"],attrs:{type:"text"},domProps:{value:e.storeItem.address},on:{input:function(t){t.target.composing||e.$set(e.storeItem,"address",t.target.value)}}})]):e._e(),e._v(" "),e.edit?e._e():s("div",{staticClass:"col-lg-2 col-md-3 store-time"},[s("i",{staticClass:"fa fa-clock-o",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.storeItem.time)+"\n      ")]),e._v(" "),e.edit?s("div",{staticClass:"col-lg-2 col-md-3 store-time"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.storeItem.time,expression:"storeItem.time"}],staticClass:"form-control",class:[e.errorTime?"is-invalid":"is-valid"],attrs:{type:"text"},domProps:{value:e.storeItem.time},on:{input:function(t){t.target.composing||e.$set(e.storeItem,"time",t.target.value)}}})]):e._e(),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],staticClass:"col-lg-1 col-md-2 store-btn"},[s("router-link",{attrs:{to:"store/"+e.storeItem.id}},[e._v("goods")])],1),e._v(" "),e.edit?s("i",{staticClass:"fa fa-times remove-store",on:{click:e.removeStore}}):e._e()])])])},I=[],x={render:N,staticRenderFns:I},k=x,F=s("VU/8"),G=i,b=F(S,k,!1,G,null,null),$=b.exports,y=s("DAYN"),D=s.n(y),A={name:"Stores",components:{Store:$,draggable:D.a},data:function(){return{stores:[],id:"",showForm:!1,newStore:{id:"",name:"",address:"",time:"",goods:[]}}},watch:{stores:function(){for(var e=0;e<this.stores.length;++e){var t=e;t+=1,this.stores[e].id=t,this.id=t,this.setStores()}}},computed:{requiredFields:function(){return!!(this.newStore.name&&this.newStore.address&&this.newStore.time)},errorName:function(){return!this.newStore.name},errorAddress:function(){return!this.newStore.address},errorTime:function(){return!this.newStore.time}},methods:{getStores:function(){this.stores=JSON.parse(localStorage.getItem("stores"))||[]},setStores:function(){localStorage.setItem("stores",C()(this.stores))},addStore:function(){this.showForm&&this.requiredFields&&(this.newStore.id=this.id+=1,this.stores.push(this.newStore),this.newStore={id:"",name:"",address:"",time:"",goods:[]},this.showForm=!this.showForm,this.setStores())},remove:function(e){for(var t=0;t<this.stores.length;t+=1)this.stores[t].id===e&&(this.stores.splice(t,1),this.setStores())}},mounted:function(){this.getStores(),this.stores.length>0?this.id=this.stores[this.stores.length-1].id:this.id=0}},P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("ul",{staticClass:"stores"},[s("draggable",{on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.stores,callback:function(t){e.stores=t},expression:"stores"}},e._l(e.stores,function(t,o){return s("store",{key:o,attrs:{"store-item":t},on:{"remove-store":e.remove,"save-changes":e.setStores}})}))],1),e._v(" "),s("form",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],staticClass:"add-store"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-lg-4"},[s("label",{attrs:{for:"inputName"}},[e._v("Store Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newStore.name,expression:"newStore.name"}],staticClass:"form-control",class:[e.errorName?"is-invalid":"is-valid"],attrs:{type:"text",id:"inputName",placeholder:"Name"},domProps:{value:e.newStore.name},on:{input:function(t){t.target.composing||e.$set(e.newStore,"name",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group col-lg-6"},[s("label",{attrs:{for:"inputAddress"}},[e._v("Address")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newStore.address,expression:"newStore.address"}],staticClass:"form-control",class:[e.errorAddress?"is-invalid":"is-valid"],attrs:{type:"text",id:"inputAddress",placeholder:"Address"},domProps:{value:e.newStore.address},on:{input:function(t){t.target.composing||e.$set(e.newStore,"address",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group col-lg-2"},[s("label",{attrs:{for:"inputTime"}},[e._v("Working hours")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newStore.time,expression:"newStore.time"}],staticClass:"form-control",class:[e.errorTime?"is-invalid":"is-valid"],attrs:{type:"text",id:"inputTime",placeholder:"Working hours"},domProps:{value:e.newStore.time},on:{input:function(t){t.target.composing||e.$set(e.newStore,"time",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"btn-add-store",on:{click:e.addStore}},[e._v(" add store\n      ")]),e._v(" "),s("i",{staticClass:"fa fa-times close-form",attrs:{"aria-hidden":"true"},on:{click:function(t){e.showForm=!1}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showForm,expression:"!showForm"}],staticClass:"btn-add-store",on:{click:function(t){e.showForm=!e.showForm}}},[e._v("\n      add store\n    ")])])])},R=[],T={render:P,staticRenderFns:R},W=T,q=s("VU/8"),E=r,V=q(A,W,!1,E,null,null),H=V.exports,U={name:"GoodsItem",props:["item"],computed:{errorName:function(){return!this.item.name},errorDescription:function(){return!this.item.description}},data:function(){return{edit:!1}},methods:{saveChange:function(){this.errorName||this.errorDescription||(this.$emit("save-goods"),this.edit=!1)}}},J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",{staticClass:"goods-item"},[s("td",{staticClass:"goods-name"},[e.edit?e._e():s("i",{staticClass:"fa fa-pencil edit-goods",on:{click:function(t){e.edit=!0}}}),e._v(" "),e.edit?s("i",{staticClass:"fa fa-check save-change",on:{click:e.saveChange}}):e._e(),e._v(" "),e.edit?e._e():s("div",[s("h5",{staticClass:"goods-name"},[e._v(e._s(e.item.name))])]),e._v(" "),e.edit?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item.name,expression:"item.name"}],staticClass:"form-control form-edit-goods",class:[e.errorName?"is-invalid":"is-valid"],attrs:{type:"text"},domProps:{value:e.item.name},on:{input:function(t){t.target.composing||e.$set(e.item,"name",t.target.value)}}})]):e._e()]),e._v(" "),s("td",{staticClass:"goods-description"},[e.edit?e._e():s("div",[s("p",{staticClass:"goods-description"},[e._v(e._s(e.item.description))])]),e._v(" "),e.edit?s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.item.description,expression:"item.description"}],staticClass:"form-control form-edit-goods",class:[e.errorDescription?"is-invalid":"is-valid"],attrs:{type:"text"},domProps:{value:e.item.description},on:{input:function(t){t.target.composing||e.$set(e.item,"description",t.target.value)}}})]):e._e(),e._v(" "),e.edit?s("i",{staticClass:"fa fa-times remove-goods",on:{click:function(t){e.edit=!1}}}):e._e()])])},O=[],Q={render:J,staticRenderFns:O},j=Q,M=s("VU/8"),Y=a,z=M(U,j,!1,Y,null,null),B=z.exports,K={name:"StoreView",components:{GoodsItem:B},props:["storeData"],computed:{errorName:function(){return!this.newGoods.name},errorDescription:function(){return!this.newGoods.description}},data:function(){return{storeId:+this.$route.params.id,stores:[],store:{},showForm:!1,newGoods:{name:"",description:""}}},methods:{fetchData:function(){this.stores=JSON.parse(localStorage.getItem("stores"));for(var e=0;e<this.stores.length;e+=1)this.storeId===this.stores[e].id&&(this.store=this.stores[e])},addGoods:function(){this.errorName||this.errorDescription||(this.store.goods.push(this.newGoods),localStorage.setItem("stores",C()(this.stores)),this.newGoods={name:"",description:""})},saveGoods:function(){localStorage.setItem("stores",C()(this.stores))}},created:function(){this.fetchData()}},L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"store-header"},[s("div",{staticClass:"store-header-id"},[e._v(e._s(e.store.id))]),e._v(" "),s("h3",{staticClass:"store-header-name"},[e._v(e._s(e.store.name))]),e._v(" "),s("h5",{staticClass:"store-header-address"},[s("i",{staticClass:"fa fa-map-marker",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.store.address))]),e._v(" "),s("h5",{staticClass:"store-header-time"},[s("i",{staticClass:"fa fa-clock-o",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.store.time))]),e._v(" "),s("i",{staticClass:"fa fa-plus-square-o btn-add-goods",attrs:{"aria-hidden":"true"},on:{click:function(t){e.showForm=!e.showForm}}})])]),e._v(" "),s("div",{staticClass:"col-12"},[s("form",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],staticClass:"add-goods"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-lg-5"},[s("label",{attrs:{for:"inputNameGoods"}},[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newGoods.name,expression:"newGoods.name"}],staticClass:"form-control",class:[e.errorName?"is-invalid":"is-valid"],attrs:{type:"text",id:"inputNameGoods",placeholder:"Name"},domProps:{value:e.newGoods.name},on:{input:function(t){t.target.composing||e.$set(e.newGoods,"name",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group col-lg-7"},[s("label",{attrs:{for:"inputDescription"}},[e._v("Description")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newGoods.description,expression:"newGoods.description"}],staticClass:"form-control",class:[e.errorDescription?"is-invalid":"is-valid"],attrs:{id:"inputDescription",placeholder:"Description"},domProps:{value:e.newGoods.description},on:{input:function(t){t.target.composing||e.$set(e.newGoods,"description",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"btn-add-new-goods",on:{click:e.addGoods}},[e._v("add goods")]),e._v(" "),s("i",{staticClass:"fa fa-times close-form",attrs:{"aria-hidden":"true"},on:{click:function(t){e.showForm=!1}}})])]),e._v(" "),s("div",{staticClass:"col-12"},[s("table",{staticClass:"table table-responsive-xl goods-table"},[e._m(0,!1,!1),e._v(" "),s("tbody",e._l(e.store.goods,function(t){return s("goods-item",{attrs:{item:t},on:{"save-goods":e.saveGoods}})}))])])])},X=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("Name")]),e._v(" "),s("th",[e._v("Description")])])])}],Z={render:L,staticRenderFns:X},ee=Z,te=s("VU/8"),se=n,oe=te(K,ee,!1,se,null,null),ie=oe.exports;d.a.use(_.a);var re=new _.a({mode:"history",routes:[{path:"/stores",name:"Stores",component:H},{path:"/store/:id",name:"StoreRout",component:ie}]});d.a.config.productionTip=!1,new d.a({el:"#app",router:re,template:"<App/>",components:{App:g}})},"Ry+1":function(e,t){},d7HW:function(e,t){},i6Ws:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.df780aab8777e4bad569.js.map